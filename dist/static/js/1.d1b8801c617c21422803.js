webpackJsonp([1],{"8/c5":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={data:function(){return{popupVisible:!1,area:"",areaCity:"",brand:"",model:"",style:"",carYear:"",priceMode:"",giftType:"",giftTypeMoney:"",giftUnit:"",carNumber:"",carChangeMoney:"",carChangeUnit:"",slots:[],type:"",areaSlots:[{values:["华南大区","华东大区","华北大区","华西大区","华中大区"]}],priceModeSlots:[{values:["直租","短租","以租代售","整车销售"]}],citySlots:[],brandSlots:[],modelSlots:[],styleSlots:[],carYearSlots:[],cityData:{},brandData:{},modelDate:{},styleDate:{},carYearDate:{},carInfo:{},priceModeDate:{},renting:{"直租":"longRenting","短租":"shotRenting","以租代售":"rentedAndSale","整车销售":"fullCarSale"}}},beforeRouteEnter:function(t,e,a){a(function(t){document.title="在线报价",t.$store.getters.GET_SERVICE_INFO.price&&(t.giftUnit=t.$store.getters.GET_SERVICE_INFO.unit,t.giftType=t.$store.getters.GET_SERVICE_INFO.name,t.giftTypeMoney=t.$store.getters.GET_SERVICE_INFO.price),t.$store.getters.GET_VEHICLE_INFO.price&&(t.carChangeMoney=t.$store.getters.GET_VEHICLE_INFO.price,t.carChangeUnit=t.$store.getters.GET_VEHICLE_INFO.unit)})},methods:{routeLink:function(t){this.priceMode?this.$router.push(t):this.$toast("请先选择报价方式")},openPopup:function(t){switch(this.type=t,t){case"areaSlots":this.slots=this.areaSlots,this.popupVisible=!0;break;case"city":if(0===this.citySlots.length)return void this.$toast("请先选择大区");this.slots=this.citySlots,this.popupVisible=!0;break;case"brand":if(0===this.brandSlots.length)return void this.$toast("请先选择城市");this.slots=this.brandSlots,this.popupVisible=!0;break;case"model":if(0===this.modelSlots.length)return void this.$toast("请先选择车辆品牌");this.slots=this.modelSlots,this.popupVisible=!0;break;case"style":if(0===this.styleSlots.length)return void this.$toast("请先选择车辆型号");this.slots=this.styleSlots,this.popupVisible=!0;break;case"carYear":if(0===this.carYearSlots.length)return void this.$toast("请先选择车辆款式");this.slots=this.carYearSlots,this.popupVisible=!0;break;case"priceMode":if(!this.carYear)return void this.$toast("请先选择车辆年份");this.slots=this.priceModeSlots,this.popupVisible=!0}},handleCancel:function(){this.popupVisible=!1},handleConfirm:function(){var t=this,e=this;switch(this.type){case"areaSlots":this.$axios({url:this.$baseUrl+"?r=interfaces/car-valuation/get-city-list",method:"post",data:{area:this.$refs.areaPicker.getValues()[0]},transformRequest:[function(t){var e="";for(var a in t)e+=encodeURIComponent(a)+"="+encodeURIComponent(t[a])+"&";return e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(a){if(0===a.data.errcode){var i=[],s={},r=[];a.data.data&&a.data.data.length&&a.data.data.forEach(function(t,e){i.push(t.city)}),s.values=i,r.push(s),e.citySlots=r,e.area=t.$refs.areaPicker.getValues()[0],e.areaCity="",e.brand="",e.model="",e.style="",e.carYear="",e.priceMode="",e.carNumber="",e.giftType="",e.giftTypeMoney="",e.giftUnit="",e.initVehicle}else t.$toast(a.data.msg);t.popupVisible=!1}).catch(function(t){console.log(t)});break;case"city":this.cityData.area=this.area,this.cityData.city=this.$refs.areaPicker.getValues()[0],this.$axios({url:this.$baseUrl+"?r=interfaces/car-valuation/get-car-brand-list",method:"post",data:e.cityData,transformRequest:[function(t){var e="";for(var a in t)e+=encodeURIComponent(a)+"="+encodeURIComponent(t[a])+"&";return e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(a){if(0===a.data.errcode){var i=[],s={},r=[];a.data.data&&a.data.data.length&&a.data.data.forEach(function(t,e){i.push(t.car_brand)}),s.values=i,r.push(s),e.brandSlots=r,e.areaCity=t.$refs.areaPicker.getValues()[0],e.brand="",e.model="",e.style="",e.carYear="",e.priceMode="",e.carNumber="",e.giftType="",e.giftTypeMoney="",e.giftUnit="",e.initVehicle}else t.$toast(a.data.msg);t.popupVisible=!1});break;case"brand":this.brandData.area=this.area,this.brandData.city=this.areaCity,this.brandData.car_brand=this.$refs.areaPicker.getValues()[0],this.$axios({url:this.$baseUrl+"?r=interfaces/car-valuation/get-car-model-list",method:"post",data:e.brandData,transformRequest:[function(t){var e="";for(var a in t)e+=encodeURIComponent(a)+"="+encodeURIComponent(t[a])+"&";return e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(a){if(0===a.data.errcode){var i=[],s={},r=[];a.data.data&&a.data.data.length&&a.data.data.forEach(function(t,e){i.push(t.car_model)}),s.values=i,r.push(s),e.modelSlots=r,e.brand=t.$refs.areaPicker.getValues()[0],e.model="",e.style="",e.carYear="",e.priceMode="",e.carNumber="",e.giftType="",e.initVehicle}else t.$toast(a.data.msg);t.popupVisible=!1});break;case"model":this.modelDate.area=this.area,this.modelDate.city=this.areaCity,this.modelDate.car_brand=this.brand,this.modelDate.car_model=this.$refs.areaPicker.getValues()[0],this.$axios({url:this.$baseUrl+"?r=interfaces/car-valuation/get-car-style-list",method:"post",data:e.modelDate,transformRequest:[function(t){var e="";for(var a in t)e+=encodeURIComponent(a)+"="+encodeURIComponent(t[a])+"&";return e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(a){if(0===a.data.errcode){var i=[],s={},r=[];a.data.data&&a.data.data.length&&a.data.data.forEach(function(t,e){i.push(t.car_style)}),s.values=i,r.push(s),e.styleSlots=r,e.model=t.$refs.areaPicker.getValues()[0],e.style="",e.carYear="",e.priceMode="",e.carNumber="",e.giftType="",e.giftTypeMoney="",e.giftUnit="",e.initVehicle}else t.$toast(a.data.msg);t.popupVisible=!1});break;case"style":this.styleDate.area=this.area,this.styleDate.city=this.areaCity,this.styleDate.car_brand=this.brand,this.styleDate.car_model=this.model,this.styleDate.car_style=this.$refs.areaPicker.getValues()[0],this.$axios({url:this.$baseUrl+"?r=interfaces/car-valuation/get-car-year-list",method:"post",data:e.styleDate,transformRequest:[function(t){var e="";for(var a in t)e+=encodeURIComponent(a)+"="+encodeURIComponent(t[a])+"&";return e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(a){if(0===a.data.errcode){var i=[],s={},r=[];a.data.data&&a.data.data.length&&a.data.data.forEach(function(t,e){i.push(t.car_year)}),s.values=i,r.push(s),e.carYearSlots=r,e.style=t.$refs.areaPicker.getValues()[0],e.carYear="",e.priceMode="",e.carNumber="",e.giftType="",e.giftTypeMoney="",e.giftUnit="",e.initVehicle}else t.$toast(a.data.msg);t.popupVisible=!1});break;case"carYear":this.carYearDate.area=this.area,this.carYearDate.city=this.areaCity,this.carYearDate.car_brand=this.brand,this.carYearDate.car_model=this.model,this.carYearDate.car_style=this.style,this.carYearDate.car_year=this.$refs.areaPicker.getValues()[0],this.$axios({url:this.$baseUrl+"?r=interfaces/car-valuation/get-car-info",method:"post",data:e.carYearDate,transformRequest:[function(t){var e="";for(var a in t)e+=encodeURIComponent(a)+"="+encodeURIComponent(t[a])+"&";return e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(a){0===a.data.errcode?(e.carYear=t.$refs.areaPicker.getValues()[0],e.carNumber=a.data.data[0].car_notice_number,e.carInfo=a.data.data[0],t.$store.commit("SET_CAR_INFO",e.carInfo),e.priceMode="",e.giftType="",e.giftTypeMoney="",e.giftUnit="",e.initVehicle):t.$toast(a.data.msg),t.popupVisible=!1});break;case"priceMode":this.priceModeDate.price_mode=this.$refs.areaPicker.getValues()[0],this.priceModeDate.car_type=e.carInfo.car_type,this.$axios({url:this.$baseUrl+"?r=interfaces/car-valuation/get-service-data",method:"post",data:e.priceModeDate,transformRequest:[function(t){var e="";for(var a in t)e+=encodeURIComponent(a)+"="+encodeURIComponent(t[a])+"&";return e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(a){0===a.data.errcode?(e.giftType=a.data.data[0].name,e.giftTypeMoney=a.data.data[0].price,e.giftUnit=a.data.data[0].unit,a.data.data[0].choosePriceMode=e.$refs.areaPicker.getValues()[0],e.priceMode=e.$refs.areaPicker.getValues()[0],e.$store.commit("SET_SERVICE_INFO",a.data.data[0])):t.$toast(a.data.msg),t.popupVisible=!1})}},locationRenting:function(){this.priceMode?this.$router.push("./"+this.renting[this.priceMode]):this.$toast("请选择报价方式")},initVehicle:function(){this.$store.getters.GET_VEHICLE_INFO.price?(this.giftTypeMoney=this.$store.getters.GET_VEHICLE_INFO.price="",this.giftUnit=this.$store.getters.GET_VEHICLE_INFO.unit=""):(this.giftTypeMoney="",this.giftUnit="")}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrap"}},[a("div",{staticClass:"select",on:{click:function(e){t.openPopup("areaSlots")}}},[a("mt-cell",{attrs:{title:"所属大区","is-link":""}},[a("span",[t._v(t._s(t.area?t.area:"请选择大区"))])])],1),t._v(" "),a("div",{staticClass:"select",on:{click:function(e){t.openPopup("city")}}},[a("mt-cell",{attrs:{title:"上车城市","is-link":""}},[a("span",[t._v(t._s(t.areaCity?t.areaCity:"请选择城市"))])])],1),t._v(" "),a("div",{staticClass:"select",on:{click:function(e){t.openPopup("brand")}}},[a("mt-cell",{attrs:{title:"车辆品牌","is-link":""}},[a("span",[t._v(t._s(t.brand?t.brand:"请选择车辆品牌"))])])],1),t._v(" "),a("div",{staticClass:"select",on:{click:function(e){t.openPopup("model")}}},[a("mt-cell",{attrs:{title:"车辆型号","is-link":""}},[a("span",[t._v(t._s(t.model?t.model:"请选择车辆型号"))])])],1),t._v(" "),a("div",{staticClass:"select",on:{click:function(e){t.openPopup("style")}}},[a("mt-cell",{attrs:{title:"车辆款式","is-link":""}},[a("span",[t._v(t._s(t.style?t.style:"请选择车辆款式"))])])],1),t._v(" "),a("div",{staticClass:"select",on:{click:function(e){t.openPopup("carYear")}}},[a("mt-cell",{attrs:{title:"车辆年份","is-link":""}},[a("span",[t._v(t._s(t.carYear?t.carYear:"请选择车辆年份"))])])],1),t._v(" "),a("div",{staticClass:"select",on:{click:function(e){t.openPopup("priceMode")}}},[a("mt-cell",{attrs:{title:"报价方式","is-link":""}},[a("span",[t._v(t._s(t.priceMode?t.priceMode:"请选择报价方式"))])])],1),t._v(" "),a("div",[a("mt-cell",{attrs:{title:"车辆公告号"}},[a("span",[t._v(" "+t._s(t.carNumber))])])],1),t._v(" "),a("div",{on:{click:function(e){t.routeLink("./addService")}}},[a("mt-cell",{attrs:{title:"增值服务","is-link":""}},[a("span",[t._v(t._s(t.giftType)+"\n        "),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.giftTypeMoney))]),t._v(" "),a("span",[t._v(t._s(t.giftUnit))])])])],1),t._v(" "),a("div",{staticStyle:{"margin-bottom":"45px"},on:{click:function(e){t.routeLink("./vehicleTechnical")}}},[a("mt-cell",{attrs:{title:"车辆技改","is-link":""}},[a("span",[a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.carChangeMoney))]),t._v(" "),a("span",[t._v(t._s(t.carChangeUnit))])])])],1),t._v(" "),a("mt-button",{staticClass:"nextBtn",attrs:{type:"primary"},on:{click:function(e){t.locationRenting()}}},[t._v("下一步")]),t._v(" "),a("mt-popup",{staticClass:"mint-popup",attrs:{position:"bottom"},model:{value:t.popupVisible,callback:function(e){t.popupVisible=e},expression:"popupVisible"}},[a("mt-picker",{ref:"areaPicker",attrs:{slots:t.slots,"show-toolbar":""}},[a("mt-button",{on:{click:t.handleCancel}},[t._v("取消")]),t._v(" "),a("mt-button",{on:{click:t.handleConfirm}},[t._v("确认")])],1)],1)],1)},staticRenderFns:[]};var r=a("vSla")(i,s,!1,function(t){a("M2ko")},"data-v-9eff3edc",null);e.default=r.exports},M2ko:function(t,e){}});
//# sourceMappingURL=1.d1b8801c617c21422803.js.map